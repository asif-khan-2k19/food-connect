<% include ./partials/header.ejs %>

<div class="header">
    <svg onclick="goBack()" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg>
    <h4>Profile</h4>
</div>

<div class="profile">
    <div class="profile-pic">
        <form hidden action="/fileupload" method="post" enctype="multipart/form-data" id="uploadform">
            <input type="file" name="image" />
        </form>
        <span class="edit" id="uploadicon">
            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
        </span>
        <img src="/images/uploads/<%= user.profilePicture %>" alt="Profile Picture">
    </div>
    <div class="profile-details">
        <h3><%= user.name %></h3>
        <h5><%= user.phone %></h5>
        <h6><%= user.address %></h6>
    </div>
</div>
<div class="profile-options">
    <a href="/editprofile"><button class="edit-profile"><span>🖊️ Edit Profile</span></button></a>
    <a href="/help"><button class="faqs"><span>🤝 Help</span></button></a>
    <% if(user.isAdmin){%>
        <a href="/all-donations"><button class="history"><span>📜 All Donations</span></button></a>
    <% }else{%>
        <a href="/home"><button class="history"><span>📜 Donation History</span></button></a>
    <% }%>
    <!-- <a href="/home"><button class="history"><span>📜 Donation History</span></button></a> -->
    <a href="/logout"><button class="logout"><span>🚪 Log Out</span></button></a>
  </div>

<!-- Navigation bar -->
<% include ./partials/navigation.ejs %>
<!-- Footer -->
<% include ./partials/footer.ejs %>

<script>
    document.querySelector("#uploadicon").addEventListener("click", function () {
        document.querySelector("#uploadform input").click();
        });
    document.querySelector("#uploadform input").addEventListener("change", function () {
        document.querySelector("#uploadform").submit();
        });
</script>